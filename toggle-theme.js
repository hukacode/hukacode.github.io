const primaryColorScheme="",currentTheme=localStorage.getItem("theme");function getPreferTheme(){return currentTheme||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}let themeValue=getPreferTheme();function setPreference(){localStorage.setItem("theme",themeValue),reflectPreference()}function reflectPreference(){document.firstElementChild.setAttribute("data-theme",themeValue),document.querySelector("#theme-btn")?.setAttribute("aria-label",themeValue);const e=document.body;if(e){const t=window.getComputedStyle(e).backgroundColor;document.querySelector("meta[name='theme-color']")?.setAttribute("content",t)}const t=new CustomEvent("themechange",{detail:{theme:themeValue}});document.dispatchEvent(t)}reflectPreference(),window.onload=()=>{function e(){reflectPreference(),document.querySelector("#theme-btn")?.addEventListener("click",(()=>{themeValue="light"===themeValue?"dark":"light",setPreference()}))}e(),document.addEventListener("astro:after-swap",e)},document.addEventListener("astro:before-swap",(e=>{const t=document.querySelector("meta[name='theme-color']")?.getAttribute("content");e.newDocument.querySelector("meta[name='theme-color']")?.setAttribute("content",t)})),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(({matches:e})=>{themeValue=e?"dark":"light",setPreference()}));